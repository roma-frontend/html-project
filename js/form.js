document.addEventListener("DOMContentLoaded", function () { let e = document.getElementById("form"), t = e.querySelector('button[type="submit"]'), l = document.getElementById("loader"), n = document.getElementById("file"), o = !1, s = document.querySelectorAll(".form-group__input"); s.forEach(e => { e.addEventListener("focus", () => { let t = e.previousElementSibling; t.style.top = "-20px", t.style.transform = "translateY(-50%) scale(0.9)", t.style.color = "#fff", t.style.fontSize = "1rem" }), e.addEventListener("blur", () => { if ("" === e.value) { let t = e.previousElementSibling; t.style.top = "50%", t.style.transform = "translateY(-50%) scale(1)", t.style.color = "#272733", t.style.fontSize = "1.125rem" } }) }), n.addEventListener("change", function () { if (n.files.length > 0) { t.disabled = !0, l.style.display = "flex"; let e = new FormData; e.append("file", n.files[0]); let o = new XMLHttpRequest; o.open("POST", "https://jsonplaceholder.typicode.com/posts", !0), o.upload.onload = function () { t.disabled = !1, l.style.display = "none", Toastify({ text: "Файл выбран", duration: 3e3, newWindow: !0, close: !0, gravity: "top", position: "right", stopOnFocus: !0, style: { background: "linear-gradient(72deg, #17ae39, #5a5b3c)", borderRadius: "5px", padding: "15px 25px" } }).showToast() }, o.send(e) } else t.disabled = !1, l.style.display = "none" }), e.addEventListener("submit", function (n) { if (n.preventDefault(), o) return; o = !0, l.style.display = "none", t.disabled = !0, l.style.display = "flex"; let a = document.querySelector(".select-options__item.selected"), d = a ? a.getAttribute("data-value") : "choose", i = document.getElementById("email").value, r = document.getElementById("name").value, p = new FormData; p.append("type", d), p.append("email", i), p.append("name", r), fetch("https://jsonplaceholder.typicode.com/posts", { method: "POST", body: p }).then(e => e.json()).then(n => { t.disabled = !1, l.style.display = "none", Toastify({ text: "Отправлен", duration: 3e3, newWindow: !0, close: !0, gravity: "top", position: "right", stopOnFocus: !0, style: { background: "linear-gradient(72deg, #17ae39, #5a5b3c)", borderRadius: "5px", padding: "15px 25px" } }).showToast(), e.reset(), i.value = "", r.value = "", o = !1, t.disabled = !1, s.forEach(e => { let t = e.previousElementSibling; t.style.top = "50%", t.style.transform = "translateY(-50%) scale(1)", t.style.color = "#272733", t.style.fontSize = "1.125rem" }) }).catch(e => { o = !1, l.style.display = "none", t.disabled = !1, Toastify({ text: "Ошибка", duration: 3e3, newWindow: !0, close: !0, gravity: "top", position: "right", stopOnFocus: !0, style: { background: "linear-gradient(174deg, #a41e69c2, #1f1d23f7)", borderRadius: "5px", padding: "15px 25px" } }).showToast() }) }) });